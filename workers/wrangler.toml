name = "substore-api"
main = "src/index.ts"
compatibility_date = "2024-01-15"
compatibility_flags = ["nodejs_compat"]

# 使用环境变量而不是硬编码 account_id
# account_id 将从 CLOUDFLARE_ACCOUNT_ID 环境变量读取

# Workers 路由配置
# 实际部署地址：https://substore-api.senmago231.workers.dev

# D1 数据库配置 (替换 KV)
# 注意：database_id 将在首次创建数据库后自动填充
# 暂时注释掉，等数据库创建后再配置
# [[d1_databases]]
# binding = "DB"
# database_name = "sub-store-db"
# database_id = "placeholder"

[vars]
ENVIRONMENT = "production"
APP_NAME = "Sub-Store"
CORS_ORIGINS = "https://sub-store-frontend.pages.dev,https://senma231.github.io"

# 在生产环境中，这些应该通过 wrangler secret 命令设置
# wrangler secret put ADMIN_TOKEN
# wrangler secret put JWT_SECRET
